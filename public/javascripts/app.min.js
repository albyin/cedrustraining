var app=angular.module("ngMyApp",[]);app.controller("mainController",["$rootScope","$scope","Posts","Comments","Users",function(a,b,c,d,e){b.title="Title comes from the controller",b.goView=function(b){a.curr_view=b},b.goView("home"),c.get().then(function(a){b.posts=a}),e.get().then(function(a){b.users=a}),b.toggleComments=function(a){a.comments?a.comments=void 0:d.getAllByPostId(a.id).then(function(b){a.comments=b})},b.togglePosts=function(a){a.posts?a.posts=void 0:c.getAllByUserId(a.id).then(function(b){a.posts=b})}}]),app.factory("APIConfig",[function(){return{devRoot:"http://jsonplaceholder.typicode.com/",prodRoot:"",env:"dev",setEnv:function(){},getRoot:function(){return"dev"===this.env?this.devRoot:"prod"===this.env?this.prodRoot:null}}}]),app.factory("Posts",["$http","APIConfig",function(a,b){return{get:function(){return a.get(b.getRoot()+"posts/").then(function(a){return a.data})},getAllByUserId:function(c){return a.get(b.getRoot()+"posts?userId="+c).then(function(a){return a.data})}}}]),app.factory("Comments",["$http","APIConfig",function(a,b){return{get:function(){return a.get(b.getRoot()+"comments/").then(function(a){return a.data})},getAllByPostId:function(c){return a.get(b.getRoot()+"comments?postId="+c).then(function(a){return a.data})}}}]),app.factory("Users",["$http","APIConfig",function(a,b){return{get:function(){return a.get(b.getRoot()+"users/").then(function(a){return a.data})}}}]);